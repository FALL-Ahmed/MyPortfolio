import{r as o,b as M,u as D,c as H,d as B,e as E,j as s,R as V,m as A,n as t,B as J,o as K,Q as j,t as w}from"./index-bd0def6d.js";const f={_origin:"https://api.emailjs.com"},G=(r,e="https://api.emailjs.com")=>{f._userID=r,f._origin=e},_=(r,e,c)=>{if(!r)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!c)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class N{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const R=(r,e,c={})=>new Promise((d,l)=>{const i=new XMLHttpRequest;i.addEventListener("load",({target:n})=>{const p=new N(n);p.status===200||p.text==="OK"?d(p):l(p)}),i.addEventListener("error",({target:n})=>{l(new N(n))}),i.open("POST",f._origin+r,!0),Object.keys(c).forEach(n=>{i.setRequestHeader(n,c[n])}),i.send(e)}),Q=(r,e,c,d)=>{const l=d||f._userID;return _(l,r,e),R("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:l,service_id:r,template_id:e,template_params:c}),{"Content-type":"application/json"})},U=r=>{let e;if(typeof r=="string"?e=document.querySelector(r):e=r,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},X=(r,e,c,d)=>{const l=d||f._userID,i=U(c);_(l,r,e);const n=new FormData(i);return n.append("lib_version","3.12.1"),n.append("service_id",r),n.append("template_id",e),n.append("user_id",l),R("/api/v1.0/email/send-form",n)},Y={init:G,send:Q,sendForm:X},W=()=>{const[r,e]=o.useState(""),[c,d]=o.useState(""),[l,i]=o.useState(""),[n,p]=o.useState(""),[I,O]=o.useState(""),[,x]=o.useState(null),{ref:$}=M("Contact"),{language:m}=D(),{theme:k}=H(),[T,v]=o.useState(null),y=o.useRef(null),{scrollYProgress:F}=B({target:y,offset:["0 1","1.33 1"]}),C=E(F,[0,1],[.8,1]),q=E(F,[0,1],[.6,1]),h=o.useRef(null),P=async a=>{v(null),console.log(T),a.preventDefault(),Y.sendForm("service_hiwlpcl","template_wctakog",h.current,"OrKkqPCIofrnTsH7B").then(()=>{m==="FR"?j.success(w.successEmailSent.fr):j.success(w.successEmailSent.en),h.current&&h.current.reset()},()=>{m==="FR"?j.error(w.failedEmailSent.fr):j.error(w.failedEmailSent.en),v("An Error occured, try again later")})},b=a=>{O(`${a}${I}`)},S=a=>{const{name:u,value:g}=a.target;u==="name"?e(g):u==="email"?d(g):u==="subject"?i(g):u==="message"&&p(g),x(u)},[,L]=o.useState(!0);return o.useEffect(()=>{const a=setInterval(()=>{L(u=>!u)},400);return()=>{clearInterval(a)}},[]),s.jsx(V.Fragment,{children:s.jsxs("section",{className:"contact-container w-full min-[1921px]:px-[55rem] mt-16",id:"contact",children:[s.jsx("div",{className:"title-container flex flex-col gap-6 justify-center items-center py-16  max-lg:p-16",ref:$,children:s.jsxs(A.div,{ref:y,style:{scale:C,opacity:q,textAlign:"center"},children:[s.jsxs("p",{className:"text-[--black] mb-6",children:[s.jsx("span",{className:"text-[--orange]",children:"<"}),m==="FR"?t.title.fr:t.title.en,s.jsx("span",{className:"text-[--orange]",children:"/>"})]}),s.jsx("h2",{className:"text-[--black] text-center",children:m==="FR"?t.description.fr:t.description.en})]})}),s.jsx("div",{className:"flex flex-row justify-center align-center  pt-32 mb-32 max-lg:flex-col max-lg:p-10",children:s.jsxs("form",{className:"flex  flex-col gap-6 justify-center items-center  px-32 w-1/2 max-lg:w-full max-lg:p-10",onSubmit:P,ref:h,autoComplete:"off",children:[t.inputfields.map((a,u)=>s.jsx("input",{type:a.type,placeholder:m==="FR"?`${a.placeholder.fr}`:`${a.placeholder.en}`,name:a.name,value:a.name==="name"?r:a.name==="email"?c:a.name==="subject"?l:n,required:!0,onFocus:()=>{b(a.name),x(a.name)},onMouseEnter:()=>{b(a.name),x(a.name)},onChange:S,className:`${k==="dark"?"bg-[--blackblue] dark-mode-shadow ":"bg-[--icewhite] dark-shadow "}`},u)),s.jsx("textarea",{rows:t.textarea.rows,placeholder:m==="FR"?`${t.textarea.placeholder.fr}`:`${t.textarea.placeholder.en}`,name:t.textarea.name,onFocus:()=>{b(t.textarea.name),x(t.textarea.name)},onMouseEnter:()=>{b(t.textarea.name),x(t.textarea.name)},onChange:S,className:`${k==="dark"?"bg-[--blackblue] dark-mode-shadow":"bg-[--icewhite] dark-shadow"}`}),s.jsxs("div",{className:"privacy-checkbox flex gap-16",children:[s.jsxs("label",{className:"block w-2 h-2 cursor-pointer",htmlFor:"checkbox-label",children:[s.jsx("input",{type:"checkbox",required:!0,name:"checkbox-label",id:"checkbox-label"}),s.jsx("span",{className:"checkbox"})]}),s.jsx("p",{children:m==="FR"?`${t.privacyOptIn.checkbox.fr}`:`${t.privacyOptIn.checkbox.en}`})]}),s.jsx("p",{children:m==="FR"?`${t.privacyOptIn.description.fr}`:`${t.privacyOptIn.description.en}`}),s.jsx(J,{value:m==="FR"?`${t.button.value.fr}`:`${t.button.value.en}`,iconSVG:t.icon,buttoncolor:t.colors.main,iconcolor:t.colors.icon,type:"submit",elementType:"input"}),s.jsx(K,{className:"w-max text-3xl block p-3 max-lg:w-full ",position:"bottom-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:k})]})})]})})};export{W as default};
